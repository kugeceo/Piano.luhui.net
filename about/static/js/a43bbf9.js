(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{111:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o(20),n=o(126);function c(t,e){return Object(r.a)(this,void 0,void 0,(function*(){const o=e/t.context.sampleRate,r=new n.a(1,o,t.context.sampleRate);new t.constructor(Object.assign(t.get(),{frequency:2/o,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}},12:function(t,e,o){"use strict";o.d(e,"a",(function(){return d})),o.d(e,"b",(function(){return _}));var r=o(19),n=o(3),c=o(40),h=o(0),l=o(307);class d extends n.a{constructor(){super(Object(h.f)(d.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Object(h.f)(d.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new l.a({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(n.a.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,o=0){return _(this,t,e,o),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,time){return this._param.setValueAtTime(t,time),this}getValueAtTime(time){return this._param.getValueAtTime(time)}setRampPoint(time){return this._param.setRampPoint(time),this}linearRampToValueAtTime(t,time){return this._param.linearRampToValueAtTime(t,time),this}exponentialRampToValueAtTime(t,time){return this._param.exponentialRampToValueAtTime(t,time),this}exponentialRampTo(t,e,o){return this._param.exponentialRampTo(t,e,o),this}linearRampTo(t,e,o){return this._param.linearRampTo(t,e,o),this}targetRampTo(t,e,o){return this._param.targetRampTo(t,e,o),this}exponentialApproachValueAtTime(t,time,e){return this._param.exponentialApproachValueAtTime(t,time,e),this}setTargetAtTime(t,e,o){return this._param.setTargetAtTime(t,e,o),this}setValueCurveAtTime(t,e,o,r){return this._param.setValueCurveAtTime(t,e,o,r),this}cancelScheduledValues(time){return this._param.cancelScheduledValues(time),this}cancelAndHoldAtTime(time){return this._param.cancelAndHoldAtTime(time),this}rampTo(t,e,o){return this._param.rampTo(t,e,o),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(param){return this._param.apply(param),this}}function _(t,e,o,h){(e instanceof r.a||Object(c.d)(e)||e instanceof d&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof d&&(e.overridden=!0)),Object(n.b)(t,e,o,h)}},120:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o(0),n=o(149),c=o(36),h=o(79);class l extends h.a{constructor(){super(Object.assign(Object(r.f)(l.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=Object(r.f)(l.getDefaults(),arguments,["min","max"]);this._mult=this.input=new c.a({context:this.context,value:t.max-t.min}),this._add=this.output=new n.a({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(h.a.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}},128:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var r=o(3),n=o(19),c=o(58),h=o(0),l=o(4),d=o(5),_=o(8),f=o(166),m=o(54);class y extends f.a{constructor(){super(Object(h.f)(y.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Object(h.f)(y.getDefaults(),arguments,["url","onload"]);Object(r.b)(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new n.a({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new c.a(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(f.a.getDefaults(),{url:new c.a,loop:!1,loopEnd:0,loopStart:0,onload:l.a,onerror:l.a,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(time,t,e,o=1){Object(_.a)(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(time);this._startGain(r,o),t=this.loop?Object(h.c)(t,this.loopStart):Object(h.c)(t,0);let n=Math.max(this.toSeconds(t),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),o=t-e;Object(m.c)(n,t)&&(n=(n-e)%o+e),Object(m.a)(n,this.buffer.duration)&&(n=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Object(m.d)(n,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,n)),Object(d.c)(e)){let t=this.toSeconds(e);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(time){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(time)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}},140:function(t,e,o){"use strict";o.d(e,"a",(function(){return S}));var r=o(20),n=o(0),c=o(4),h=o(5),l=o(12),d=o(37),_=o(257),f=o(258),m=o(203),y=o(59),v=o(111),x=o(204),O=o(259);const j={am:_.a,fat:f.a,fm:m.a,oscillator:y.a,pulse:x.a,pwm:O.a};class S extends d.a{constructor(){super(Object(n.f)(S.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Object(n.f)(S.getDefaults(),arguments,["frequency","type"]);this.frequency=new l.a({context:this.context,units:"frequency",value:t.frequency}),this.detune=new l.a({context:this.context,units:"cents",value:t.detune}),Object(c.b)(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(y.a.getDefaults(),m.a.getDefaults(),_.a.getDefaults(),f.a.getDefaults(),x.a.getDefaults(),O.a.getDefaults())}_start(time){this._oscillator.start(time)}_stop(time){this._oscillator.stop(time)}_restart(time){return this._oscillator.restart(time),this}get type(){let t="";return["am","fm","fat"].some((p=>this._sourceType===p))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=j[t],o=this.now();if(this._oscillator){const t=this._oscillator;t.stop(o),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(o)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof j[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Object(h.f)(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Object(h.f)(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Object(h.h)(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(v.a)(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}},149:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o(3),n=o(9),c=o(0),h=o(12);class l extends h.a{constructor(){super(Object.assign(Object(c.f)(l.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new n.a({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Object(r.c)(this._constantSource,this._sum)}static getDefaults(){return Object.assign(h.a.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}},150:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var r=o(3),n=o(9),c=o(0),h=o(218),l=o(12);class d extends l.a{constructor(){super(Object.assign(Object(c.f)(d.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new n.a({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new h.a({context:this.context}),this.subtrahend=this._param,Object(r.c)(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(l.a.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}},155:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var r=o(58),n=o(0),c=o(8),h=o(37),l=o(128);class d extends h.a{constructor(){super(Object(n.f)(d.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=Object(n.f)(d.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(h.a.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Object(c.a)(t in m,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(time){const t=m[this._type];this._source=new l.a({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(time),Math.random()*(t.duration-.001))}_stop(time){this._source&&(this._source.stop(this.toSeconds(time)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(time){this._fadeIn=time,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(time){this._fadeOut=time,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(time){this._stop(time),this._start(time)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const _=220500,f={brown:null,pink:null,white:null},m={get brown(){if(!f.brown){const t=[];for(let e=0;e<2;e++){const o=new Float32Array(_);t[e]=o;let r=0;for(let i=0;i<_;i++){const t=2*Math.random()-1;o[i]=(r+.02*t)/1.02,r=o[i],o[i]*=3.5}}f.brown=(new r.a).fromArray(t)}return f.brown},get pink(){if(!f.pink){const t=[];for(let e=0;e<2;e++){const o=new Float32Array(_);let r,n,c,h,l,d,f;t[e]=o,r=n=c=h=l=d=f=0;for(let i=0;i<_;i++){const t=2*Math.random()-1;r=.99886*r+.0555179*t,n=.99332*n+.0750759*t,c=.969*c+.153852*t,h=.8665*h+.3104856*t,l=.55*l+.5329522*t,d=-.7616*d-.016898*t,o[i]=r+n+c+h+l+d+f+.5362*t,o[i]*=.11,f=.115926*t}}f.pink=(new r.a).fromArray(t)}return f.pink},get white(){if(!f.white){const t=[];for(let e=0;e<2;e++){const o=new Float32Array(_);t[e]=o;for(let i=0;i<_;i++)o[i]=2*Math.random()-1}f.white=(new r.a).fromArray(t)}return f.white}}},166:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o(9),n=o(3),c=o(4),h=o(8);class l extends n.a{constructor(t){super(t),this.onended=c.a,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new r.a({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(time){const t=this.toSeconds(time);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(n.a.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:c.a})}_startGain(time,t=1){Object(h.a)(-1===this._startTime,"Source cannot be started more than once");const e=this.toSeconds(this._fadeIn);return this._startTime=time+e,this._startTime=Math.max(this._startTime,this.context.currentTime),e>0?(this._gainNode.gain.setValueAtTime(0,time),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,time+e):this._gainNode.gain.exponentialApproachValueAtTime(t,time,e)):this._gainNode.gain.setValueAtTime(t,time),this}stop(time){return this.log("stop",time),this._stopGain(this.toSeconds(time)),this}_stopGain(time){Object(h.a)(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(time)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,time):this._gainNode.gain.targetRampTo(0,t,time):(this._gainNode.gain.cancelAndHoldAtTime(time),this._gainNode.gain.setValueAtTime(0,time)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==c.a&&(this.onended(this),this.onended=c.a,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Object(h.a)(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}},176:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o(79),n=o(86);class c extends r.a{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new n.a({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}},202:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));const r="14.7.77"},203:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var r=o(20),n=o(9),c=o(0),h=o(4),l=o(36),d=o(12),_=o(37),f=o(59),m=o(111);class y extends _.a{constructor(){super(Object(c.f)(y.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new n.a({context:this.context,gain:0});const t=Object(c.f)(y.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new f.a({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new d.a({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new f.a({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new l.a({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new l.a({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Object(h.b)(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(f.a.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(time){this._modulator.start(time),this._carrier.start(time)}_stop(time){this._modulator.stop(time),this._carrier.stop(time)}_restart(time){return this._modulator.restart(time),this._carrier.restart(time),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(m.a)(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}},204:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var r=o(20),n=o(9),c=o(0),h=o(4),l=o(12),d=o(86),_=o(37),f=o(59),m=o(111);class y extends _.a{constructor(){super(Object(c.f)(y.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new n.a({context:this.context,gain:0}),this._thresh=new d.a({context:this.context,mapping:t=>t<=0?-1:1});const t=Object(c.f)(y.getDefaults(),arguments,["frequency","width"]);this.width=new l.a({context:this.context,units:"audioRange",value:t.width}),this._triangle=new f.a({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Object(h.b)(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(_.a.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(time){time=this.toSeconds(time),this._triangle.start(time),this._widthGate.gain.setValueAtTime(1,time)}_stop(time){time=this.toSeconds(time),this._triangle.stop(time),this._widthGate.gain.cancelScheduledValues(time),this._widthGate.gain.setValueAtTime(0,time)}_restart(time){this._triangle.restart(time),this._widthGate.gain.cancelScheduledValues(time),this._widthGate.gain.setValueAtTime(1,time)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(m.a)(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}},217:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var r=o(3),n=o(19),c=o(0),h=o(166),l=o(4);class d extends h.a{constructor(){super(Object(c.f)(d.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Object(c.f)(d.getDefaults(),arguments,["frequency","type"]);Object(r.b)(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new n.a({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new n.a({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Object(l.b)(this,["frequency","detune"])}static getDefaults(){return Object.assign(h.a.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(time){const t=this.toSeconds(time);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(time){this._oscillator.stop(time)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}},218:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o(36),n=o(79);class c extends n.a{constructor(){super(...arguments),this.name="Negate",this._multiply=new r.a({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}},219:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var r=o(86),n=o(0),c=o(79);class h extends c.a{constructor(){super(Object.assign(Object(n.f)(h.getDefaults(),arguments,["value"]))),this.name="Pow";const t=Object(n.f)(h.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new r.a({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(c.a.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}},257:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var r=o(20),n=o(9),c=o(0),h=o(4),l=o(176),d=o(36),_=o(37),f=o(59),m=o(111);class y extends _.a{constructor(){super(Object(c.f)(y.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new l.a({context:this.context}),this._modulationNode=new n.a({context:this.context});const t=Object(c.f)(y.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new f.a({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new f.a({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new d.a({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Object(h.b)(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(f.a.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(time){this._modulator.start(time),this._carrier.start(time)}_stop(time){this._modulator.stop(time),this._carrier.stop(time)}_restart(time){this._modulator.restart(time),this._carrier.restart(time)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(m.a)(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}},258:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var r=o(20),n=o(0),c=o(4),h=o(12),l=o(37),d=o(59),_=o(111),f=o(8);class m extends l.a{constructor(){super(Object(n.f)(m.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Object(n.f)(m.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new h.a({context:this.context,units:"frequency",value:t.frequency}),this.detune=new h.a({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Object(c.b)(this,["frequency","detune"])}static getDefaults(){return Object.assign(d.a.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(time){time=this.toSeconds(time),this._forEach((t=>t.start(time)))}_stop(time){time=this.toSeconds(time),this._forEach((t=>t.stop(time)))}_restart(time){this._forEach((t=>t.restart(time)))}_forEach(t){for(let i=0;i<this._oscillators.length;i++)t(this._oscillators[i],i)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,o=t/(this._oscillators.length-1);this._forEach(((t,i)=>t.detune.value=e+o*i))}}get count(){return this._oscillators.length}set count(t){if(Object(f.c)(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let i=0;i<t;i++){const e=new d.a({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+i/t*360,partialCount:this._partialCount,onstop:0===i?()=>this.onstop(this):c.a});"custom"===this.type&&(e.partials=this._partials),this.frequency.connect(e.frequency),this.detune.connect(e.detune),e.detune.overridden=!1,e.connect(this.output),this._oscillators[i]=e}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,i)=>t.phase=this._phase+i/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(_.a)(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}},259:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var r=o(20),n=o(0),c=o(4),h=o(36),l=o(37),d=o(59),_=o(111),f=o(204);class m extends l.a{constructor(){super(Object(n.f)(m.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new h.a({context:this.context,value:2});const t=Object(n.f)(m.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new f.a({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new d.a({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Object(c.b)(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(l.a.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(time){time=this.toSeconds(time),this._modulator.start(time),this._pulse.start(time)}_stop(time){time=this.toSeconds(time),this._modulator.stop(time),this._pulse.stop(time)}_restart(time){this._modulator.restart(time),this._pulse.restart(time)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(_.a)(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}},290:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o(9),n=o(3),c=o(0),h=o(79);class l extends h.a{constructor(){super(Object.assign(Object(c.f)(l.getDefaults(),arguments))),this.name="Zero",this._gain=new r.a({context:this.context}),this.output=this._gain,this.input=void 0,Object(n.b)(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Object(n.d)(this.context.getConstant(0),this._gain),this}}},291:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o(79),n=o(86);class c extends r.a{constructor(){super(...arguments),this.name="Abs",this._abs=new n.a({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}},292:function(t,e,o){"use strict";o.d(e,"a",(function(){return c}));var r=o(79),n=o(86);class c extends r.a{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new n.a({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}},293:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var r=o(0),n=o(150),c=o(12),h=o(294),l=o(4);class d extends c.a{constructor(){super(Object.assign(Object(r.f)(d.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=Object(r.f)(d.getDefaults(),arguments,["value"]);this._subtract=this.input=new n.a({context:this.context,value:t.value}),this._gtz=this.output=new h.a({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Object(l.b)(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(c.a.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}},294:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o(79),n=o(36),c=o(86),h=o(0);class l extends r.a{constructor(){super(Object.assign(Object(h.f)(l.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new c.a({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new n.a({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}},295:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var r=o(120),n=o(0),c=o(219);class h extends r.a{constructor(){super(Object.assign(Object(n.f)(h.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=Object(n.f)(h.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new c.a({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(r.a.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}},307:function(t,e,o){"use strict";o.d(e,"a",(function(){return l}));var r=o(3),n=o(19),c=o(0),h=o(166);class l extends h.a{constructor(){super(Object(c.f)(l.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Object(c.f)(l.getDefaults(),arguments,["offset"]);Object(r.b)(this._source,this._gainNode),this.offset=new n.a({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(h.a.getDefaults(),{convert:!0,offset:1,units:"number"})}start(time){const t=this.toSeconds(time);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(time){this._source.stop(time)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}},36:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var r=o(9),n=o(0),c=o(12);class h extends c.a{constructor(){super(Object.assign(Object(n.f)(h.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Object(n.f)(h.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new r.a({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(c.a.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}},37:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var r=o(107),n=(o(712),o(477),o(3)),c=o(0),h=o(4),l=o(127),d=o(5),_=o(8),f=o(54);class m extends n.a{constructor(t){super(t),this.input=void 0,this._state=new l.a("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=h.a,this._syncedStop=h.a,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new r.a({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Object(h.b)(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(n.a.getDefaults(),{mute:!1,onstop:h.a,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(time){return this._synced?time:Math.max(time,this.context.currentTime)}start(time,t,e){let o=Object(d.i)(time)&&this._synced?this.context.transport.seconds:this.toSeconds(time);if(o=this._clampToCurrentTime(o),this._synced||"started"!==this._state.getValueAtTime(o))if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const r=this._state.get(o);r&&(r.offset=this.toSeconds(Object(c.c)(t,0)),r.duration=e?this.toSeconds(e):void 0);const n=this.context.transport.schedule((o=>{this._start(o,t,e)}),o);this._scheduled.push(n),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Object(_.b)(this.context),this._start(o,t,e);else Object(_.a)(Object(f.b)(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,t,e);return this}stop(time){let t=Object(d.i)(time)&&this._synced?this.context.transport.seconds:this.toSeconds(time);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||Object(d.c)(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(time,t,e){return time=this.toSeconds(time),"started"===this._state.getValueAtTime(time)&&(this._state.cancel(time),this._restart(time,t,e)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(time,t)=>{if(t>0){const e=this._state.get(t);if(e&&"started"===e.state&&e.time!==t){const o=t-this.toSeconds(e.time);let r;e.duration&&(r=this.toSeconds(e.duration)-o),this._start(time,this.toSeconds(e.offset)+o,r)}}},this._syncedStop=time=>{const t=this.context.transport.getSecondsAtTime(Math.max(time-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(time)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=h.a,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}},475:function(t,e,o){"use strict";o.d(e,"a",(function(){return w})),o.d(e,"b",(function(){return V}));o(176);var r=o(0),n=(o(12),o(36),o(9),o(83)),c=o(3),h=o(20),l=o(100),d=o(4),_=o(107);class f extends c.a{constructor(){super(Object(r.f)(f.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Object(r.f)(f.getDefaults(),arguments);this._volume=this.output=new _.a({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Object(d.b)(this,"volume")}static getDefaults(){return Object.assign(c.a.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const o=this["_original_"+t]=this[t];this[t]=(...t)=>{const time=t[e],r=this.context.transport.schedule((r=>{t[e]=r,o.apply(this,t)}),time);this._scheduledEvents.push(r)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,time,o){const r=this.toSeconds(time),n=this.toSeconds(e);return this.triggerAttack(t,r,o),this.triggerRelease(r+n),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}var m=o(95);class y extends f{constructor(){super(Object(r.f)(y.getDefaults(),arguments));const t=Object(r.f)(y.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(f.getDefaults(),{detune:0,onsilence:d.a,portamento:0})}triggerAttack(t,time,e=1){this.log("triggerAttack",t,time,e);const o=this.toSeconds(time);return this._triggerEnvelopeAttack(o,e),this.setNote(t,o),this}triggerRelease(time){this.log("triggerRelease",time);const t=this.toSeconds(time);return this._triggerEnvelopeRelease(t),this}setNote(t,time){const e=this.toSeconds(time),o=t instanceof l.a?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(e)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,t,e)}else this.frequency.setValueAtTime(o,e);return this}}Object(h.b)([Object(m.b)(0)],y.prototype,"portamento",void 0);var v=o(140),x=o(37),O=o(177);class j extends y{constructor(){super(Object(r.f)(j.getDefaults(),arguments)),this.name="Synth";const t=Object(r.f)(j.getDefaults(),arguments);this.oscillator=new v.a(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new O.a(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Object(d.b)(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(y.getDefaults(),{envelope:Object.assign(Object(r.e)(n.a.getDefaults(),Object.keys(c.a.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Object(r.e)(v.a.getDefaults(),[...Object.keys(x.a.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(time,t){if(this.envelope.triggerAttack(time,t),this.oscillator.start(time),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),e=this.toSeconds(this.envelope.decay);this.oscillator.stop(time+t+e)}}_triggerEnvelopeRelease(time){this.envelope.triggerRelease(time),this.oscillator.stop(time+this.toSeconds(this.envelope.release))}getLevelAtTime(time){return time=this.toSeconds(time),this.envelope.getValueAtTime(time)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}var S=o(89),T=o(261);class w extends y{constructor(){super(Object(r.f)(w.getDefaults(),arguments)),this.name="MonoSynth";const t=Object(r.f)(w.getDefaults(),arguments);this.oscillator=new v.a(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new S.a(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new T.a(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new O.a(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Object(d.b)(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(y.getDefaults(),{envelope:Object.assign(Object(r.e)(n.a.getDefaults(),Object.keys(c.a.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Object(r.e)(S.a.getDefaults(),Object.keys(c.a.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Object(r.e)(T.a.getDefaults(),Object.keys(c.a.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Object(r.e)(v.a.getDefaults(),Object.keys(x.a.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(time,t=1){if(this.envelope.triggerAttack(time,t),this.filterEnvelope.triggerAttack(time),this.oscillator.start(time),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),e=this.toSeconds(this.envelope.decay);this.oscillator.stop(time+t+e)}}_triggerEnvelopeRelease(time){this.envelope.triggerRelease(time),this.filterEnvelope.triggerRelease(time),this.oscillator.stop(time+this.toSeconds(this.envelope.release))}getLevelAtTime(time){return time=this.toSeconds(time),this.envelope.getValueAtTime(time)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}o(71);o(120),o(203);class D extends j{constructor(){super(Object(r.f)(D.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Object(r.f)(D.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Object(d.b)(this,["oscillator","envelope"])}static getDefaults(){return Object(r.b)(y.getDefaults(),j.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,time){const e=this.toSeconds(time),o=this.toFrequency(t instanceof l.a?t.toFrequency():t),r=o*this.octaves;return this.oscillator.frequency.setValueAtTime(r,e),this.oscillator.frequency.exponentialRampToValueAtTime(o,e+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Object(h.b)([Object(m.a)(0)],D.prototype,"octaves",void 0),Object(h.b)([Object(m.b)(0)],D.prototype,"pitchDecay",void 0);o(155);o(220);o(256);var A=o(5),k=o(8);var E=o(175),R=o(28),C=o(128);class V extends f{constructor(){super(Object(r.f)(V.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Object(r.f)(V.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((o=>{const r=parseInt(o,10);if(Object(k.a)(Object(A.e)(o)||Object(A.f)(r)&&isFinite(r),`url key is neither a note or midi pitch: ${o}`),Object(A.e)(o)){const r=new l.a(this.context,o).toMidi();e[r]=t.urls[o]}else Object(A.f)(r)&&isFinite(r)&&(e[r]=t.urls[r])})),this._buffers=new E.a({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(f.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:d.a,onerror:d.a,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,time,e=1){return this.log("triggerAttack",t,time,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const o=Object(R.c)(new l.a(this.context,t).toFrequency()),r=Math.round(o),n=o-r,c=this._findClosest(r),h=r-c,d=this._buffers.get(h),_=Object(R.f)(c+n),source=new C.a({url:d,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);source.start(time,0,d.duration/_,e),Object(A.a)(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(source),source.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(source);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,time){return this.log("triggerRelease",t,time),Array.isArray(t)||(t=[t]),t.forEach((t=>{const e=new l.a(this.context,t).toMidi();if(this._activeSources.has(e)&&this._activeSources.get(e).length){const t=this._activeSources.get(e);time=this.toSeconds(time),t.forEach((source=>{source.stop(time)})),this._activeSources.set(e,[])}})),this}releaseAll(time){const t=this.toSeconds(time);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,time,o=1){const r=this.toSeconds(time);return this.triggerAttack(t,r,o),Object(A.a)(e)?(Object(k.a)(Object(A.a)(t),"notes must be an array when duration is array"),t.forEach(((t,o)=>{const n=e[Math.min(o,e.length-1)];this.triggerRelease(t,r+this.toSeconds(n))}))):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,o){if(Object(k.a)(Object(A.e)(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Object(A.e)(t)){const r=new l.a(this.context,t).toMidi();this._buffers.add(r,e,o)}else this._buffers.add(t,e,o);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((source=>source.dispose()))})),this._activeSources.clear(),this}}Object(h.b)([Object(m.b)(0)],V.prototype,"attack",void 0),Object(h.b)([Object(m.b)(0)],V.prototype,"release",void 0)},476:function(t,e,o){"use strict";o(155);var r=o(20),n=o(3),c=(o(107),o(0)),h=o(8),l=o(4),d=o(5);n.a;o(59),o(257),o(203),o(204),o(258),o(259),o(140),o(217),o(71);var _=o(128),f=o(58),m=o(37),y=o(95);class v extends m.a{constructor(){super(Object(c.f)(v.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Object(c.f)(v.getDefaults(),arguments,["url","onload"]);this._buffer=new f.a({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(m.a.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:l.a,onerror:l.a,playbackRate:1,reverse:!1})}load(t){return Object(r.a)(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=l.a){t(),this.autostart&&this.start()}_onSourceEnd(source){this.onstop(this),this._activeSources.delete(source),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(time,t,e){return super.start(time,t,e),this}_start(t,e,o){e=this._loop?Object(c.c)(e,this._loopStart):Object(c.c)(e,0);const r=this.toSeconds(e),n=o;o=Object(c.c)(o,Math.max(this._buffer.duration-r,0));let h=this.toSeconds(o);h/=this._playbackRate,t=this.toSeconds(t);const source=new _.a({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+h),this._state.setStateAtTime("stopped",t+h,{implicitEnd:!0})),this._activeSources.add(source),this._loop&&Object(d.i)(n)?source.start(t,r):source.start(t,r,h-this.toSeconds(this.fadeOut))}_stop(time){const t=this.toSeconds(time);this._activeSources.forEach((source=>source.stop(t)))}restart(time,t,e){return super.restart(time,t,e),this}_restart(time,t,e){this._stop(time),this._start(time,t,e)}seek(t,e){const o=this.toSeconds(e);if("started"===this._state.getValueAtTime(o)){const e=this.toSeconds(t);this._stop(o),this._start(o,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Object(h.c)(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((source=>{source.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Object(h.c)(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((source=>{source.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((source=>{source.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),o=this._state.getNextState("stopped",e);o&&o.implicitEnd&&(this._state.cancel(o.time),this._activeSources.forEach((source=>source.cancelStop()))),this._activeSources.forEach((source=>{source.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((source=>source.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Object(r.b)([Object(y.b)(0)],v.prototype,"fadeIn",void 0),Object(r.b)([Object(y.b)(0)],v.prototype,"fadeOut",void 0);o(175);n.a;o(223),o(28);m.a},478:function(t,e,o){"use strict";o(149),o(291),o(176),o(292),o(293),o(294),o(36),o(218),o(219);var r=o(12);o(120),o(295),o(150),o(0),o(60),o(307);r.a;o(86),o(290)},59:function(t,e,o){"use strict";o.d(e,"a",(function(){return v}));var r=o(20),n=o(0),c=o(4),h=o(5),l=o(12),d=o(37),_=o(111),f=o(217),m=o(8),y=o(54);class v extends d.a{constructor(){super(Object(n.f)(v.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Object(n.f)(v.getDefaults(),arguments,["frequency","type"]);this.frequency=new l.a({context:this.context,units:"frequency",value:t.frequency}),Object(c.b)(this,"frequency"),this.detune=new l.a({context:this.context,units:"cents",value:t.detune}),Object(c.b)(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(d.a.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(time){const t=this.toSeconds(time),e=new f.a({context:this.context,onended:()=>this.onstop(this)});this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(time){const t=this.toSeconds(time);this._oscillator&&this._oscillator.stop(t)}_restart(time){const t=this.toSeconds(time);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return v._periodicWaveCache.find((t=>t.phase===this._phase&&Object(n.a)(t.partials,this._partials)))}{const t=v._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Object(h.c)(e)){const{partials:t,wave:o}=e;this._wave=o,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,o]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,o);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),v._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),v._periodicWaveCache.length>100&&v._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(p){Object(m.c)(p,0);let t=this._type;const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(e&&(t=e[1]),"custom"!==this._type)this.type=0===p?t:t+p.toString();else{const t=new Float32Array(p);this._partials.forEach(((e,i)=>t[i]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(t,e){let o=2048;const r=new Float32Array(o),n=new Float32Array(o);let c=1;if("custom"===t){if(c=this._partials.length+1,this._partialCount=this._partials.length,o=c,0===this._partials.length)return[r,n]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(c=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],c=Math.max(c,2),o=c):this._partialCount=0,this._partials=[]}for(let h=1;h<o;++h){const o=2/(h*Math.PI);let b;switch(t){case"sine":b=h<=c?1:0,this._partials[h-1]=b;break;case"square":b=1&h?2*o:0,this._partials[h-1]=b;break;case"sawtooth":b=o*(1&h?1:-1),this._partials[h-1]=b;break;case"triangle":b=1&h?o*o*2*(h-1>>1&1?-1:1):0,this._partials[h-1]=b;break;case"custom":b=this._partials[h-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==b?(r[h]=-b*Math.sin(e*h),n[h]=b*Math.cos(e*h)):(r[h]=0,n[h]=0)}return[r,n]}_inverseFFT(t,e,o){let r=0;const n=t.length;for(let i=0;i<n;i++)r+=t[i]*Math.cos(i*o)+e[i]*Math.sin(i*o);return r}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let o=0;const r=2*Math.PI;for(let i=0;i<32;i++)o=Math.max(this._inverseFFT(t,e,i/32*r),o);return Object(y.e)(-this._inverseFFT(t,e,this._phase)/o,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Object(r.a)(this,void 0,void 0,(function*(){return Object(_.a)(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}v._periodicWaveCache=[]},71:function(t,e,o){"use strict";o.d(e,"a",(function(){return v}));var r=o(9),n=o(19),c=o(3),h=o(0),l=o(4),d=o(176),_=o(120),f=o(12),m=o(290),y=o(59);class v extends c.a{constructor(){super(Object(h.f)(v.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=n.a.prototype._fromType,this._toType=n.a.prototype._toType,this._is=n.a.prototype._is,this._clampValue=n.a.prototype._clampValue;const t=Object(h.f)(v.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new y.a(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new r.a({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new f.a({context:this.context,units:"audioRange",value:0}),this._zeros=new m.a({context:this.context}),this._a2g=new d.a({context:this.context}),this._scaler=this.output=new _.a({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Object(l.b)(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(y.a.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(time){return time=this.toSeconds(time),this._stoppedSignal.setValueAtTime(0,time),this._oscillator.start(time),this}stop(time){return time=this.toSeconds(time),this._stoppedSignal.setValueAtTime(this._stoppedValue,time),this._oscillator.stop(time),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,o=this.max;this._units=t,this.min=e,this.max=o}get state(){return this._oscillator.state}connect(t,e,o){return(t instanceof n.a||t instanceof f.a)&&(this.convert=t.convert,this.units=t.units),Object(f.b)(this,t,e,o),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}},79:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));var r=o(0),n=o(3),c=o(12);class h extends n.a{constructor(){super(Object.assign(Object(r.f)(h.getDefaults(),arguments,["context"])))}connect(t,e=0,o=0){return Object(c.b)(this,t,e,o),this}}},86:function(t,e,o){"use strict";o.d(e,"a",(function(){return d}));var r=o(0),n=o(5),c=o(8),h=o(12),l=o(79);class d extends l.a{constructor(){super(Object.assign(Object(r.f)(d.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Object(r.f)(d.getDefaults(),arguments,["mapping","length"]);Object(n.a)(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Object(n.d)(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(h.a.getDefaults(),{length:1024})}setMap(t,e=1024){const o=new Float32Array(e);for(let i=0,r=e;i<r;i++){const e=i/(r-1)*2-1;o[i]=t(e,i)}return this.curve=o,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some((e=>e.includes(t)));Object(c.a)(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}}}]);